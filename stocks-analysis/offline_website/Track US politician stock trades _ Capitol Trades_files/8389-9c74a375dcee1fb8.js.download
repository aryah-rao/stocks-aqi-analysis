"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8389],{11839:function(c,a,b){b.d(a,{X:function(){return d},x:function(){return e}});var d="issuer",e=111111},18389:function(d,b,a){a.d(b,{"_":function(){return E}});var e=a(14924),f=a(26042),g=a(69396),h=a(828),i=a(29815),j=a(85893),k=a(9253),l=a(98687),m=a(33558),n=a(14195),o=a(75358),p=a(56880),q=a(3023),r=a(94831),s=a(14888),t=a(87226),u=a(21641),v=a(61705),w=function(b){var d,c=Math.floor(Math.log10(b)),a=b/Math.pow(10,c);return(a<1.5?1:a<3?2:a<7?5:10)*Math.pow(10,c)},x=function(a,b){var d=arguments.length>2&& void 0!==arguments[2]&&arguments[2];switch(!0){case b<=30:return(0,v.p6)(a,"dd");case b<=90:return(0,v.p6)((0,v.Fg)(a),"mmm dd");case b<=180:case b<=365:return(0,v.p6)((0,v.Nm)(a),"mmm");default:var c="Q".concat((0,v.Gm)(a));return d?"".concat(a.getFullYear(),"-").concat(c):c}},y=function(a){return 10===a.length?new Date(a).getTime():a.length>4?new Date("".concat(a,"-01")).getTime():new Date("".concat(a,"-01-01")).getTime()},z=a(89152),A=a(78465),B=a(11839),C=a(47936),D=a(92343),E=function(d){var Z,$,N,_=d.dateRange,J=void 0===_?"365d":_,aa=d.type,ab=d.filters,O=void 0===ab?{}:ab,E=d.issuerId,ac=d.isHidingBarChart,ad=(0,h.Z)((0,z.Qg)(J),2),P=ad[0],Q=ad[1],ae=(0,h.Z)((0,z.P9)(P,Q),2),R=ae[0],S=ae[1],K=!E||E===B.x,af=!K&&"all"==J,ag=(0,u.h1)(E,{enabled:!K}),ah=ag.data,at=ag.isFetching,ai=(0,u.Tg)(String(E),{from:R,to:S},{enabled:af}),au=ai.data,av=ai.isFetching,aj=(0,u.Tg)(B.x.toString(),{from:R,to:S},{enabled:!0}),aw=aj.data;aj.isFetching,J&&(O.txDate=J),K||(O.issuer=[E]);var L=(0,v.yC)(Q,P),ak=(0,u.VW)((0,g.Z)((0,f.Z)({},O),{metric:["volume","countTrades","countPoliticians"],dimension:[L<=90?"txDay":"txMonth","txType"]})),al=ak.data,ax=ak.isFetching,T=null==ah?void 0:ah.data,U=af?au:null==T?void 0:null===(N=T.performance)|| void 0===N?void 0:N.eodPrices,am=(null==U?void 0:U.length)?(0,u.gk)(U,R,S):aw;if(!am&&(av||at||ax))return(0,j.jsx)("div",{className:"activity-chart",children:(0,j.jsx)("div",{className:"chart--is--loading"})});var ay=(null==al?void 0:al.data)||{},az=c(P,Q,L),an=Object.entries(ay).reduce(function(b,r){var c,d,i,j,k,l,m,n,p=(0,h.Z)(r,2),q=p[0],a=p[1],s=new Date(y(q)),o=x(s,L,!0);return(0,g.Z)((0,f.Z)({},b),(0,e.Z)({},o,{buy:(null!==(k=null===(c=null==a?void 0:a.buy)|| void 0===c?void 0:c.volume)&& void 0!==k?k:0)+(null!==(l=null===(d=b[o])|| void 0===d?void 0:d.buy)&& void 0!==l?l:0),sell:(null!==(m=null===(i=null==a?void 0:a.sell)|| void 0===i?void 0:i.volume)&& void 0!==m?m:0)+(null!==(n=null===(j=b[o])|| void 0===j?void 0:j.sell)&& void 0!==n?n:0),date:y(q)}))},{}),ao=Object.values((0,f.Z)({},az,an)).sort(function(a,b){return b.date-a.date}),ap=(am||[]).map(function(b){var a=(0,h.Z)(b,2),c=a[0],d=a[1];return{date:new Date(c).getTime(),price:d}});ap.reverse();var a=ap.filter(function(c,a,b){return b.findIndex(function(a){return a.date===c.date})===a}),aq=a.map(function(a){return a.price}).filter(Boolean),V=(Z=Math).min.apply(Z,(0,i.Z)(aq)),ar=($=Math).max.apply($,(0,i.Z)(aq)),b=w((ar-V)/9),H=Math.floor(V/b)*b,M=Math.ceil(ar/b)*b,W=[],X=H+b;if(!Number.isNaN(H))do W.push(X),X+=b;while(X<M)var I="big"===(void 0===aa?"big":aa),as=I?7:4,Y=I?{left:30,right:35}:void 0,aA=F(ao,L,Y);return(0,j.jsx)("div",{className:"activity-chart resolution-".concat(L),children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k.h,{width:"100%",height:"100%",children:(0,j.jsxs)(l.w,{data:a,margin:{top:0,left:0,right:0,bottom:0},children:[(0,j.jsx)(m.D,{verticalAlign:"top",iconSize:0,height:28}),I&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.q,{}),(0,j.jsx)(o.B,{allowDataOverflow:!0,dataKey:"price",domain:[H,M],orientation:"left",tickFormatter:function(a){return(0,A.nz)(a,A.j_)},tickMargin:-35,padding:{bottom:2>Math.abs(W[0]-V)?10:0},ticks:W,width:1})]}),(0,j.jsx)(p.x,{connectNulls:!0,dataKey:"price",dot:!1,isAnimationActive:!1,name:G(K,T),stroke:"#c40377",strokeWidth:I?2:1}),(0,j.jsx)(q.K,{scale:"time",domain:a&&a.length?[a[0].date,a[a.length-1].date]:["auto","auto"],axisLine:!1,dataKey:"date",fillOpacity:0,interval:10,padding:Y,tickLine:!1}),(0,j.jsx)(o.B,{dataKey:"price",domain:[H,M],width:0,axisLine:!0}),(0,j.jsx)(o.B,{dataKey:"price",domain:[H,M],width:0,axisLine:!0})]})}),(0,j.jsx)(k.h,{width:"100%",height:"100%",className:"activity-chart__above",children:(0,j.jsxs)(r.v,{barGap:4,data:ao,margin:{top:20,left:0,right:0,bottom:0},throttleDelay:100,children:[I&&Object.keys(an).length>0&&(0,j.jsx)(o.B,{axisLine:!0,domain:["auto","auto"],orientation:"right",tickMargin:-35,width:1,padding:{bottom:0},tickFormatter:function(a){return(0,A.nz)(a,A.j_)}}),(0,j.jsx)(q.K,{axisLine:!0,dataKey:"date",interval:0,padding:Y,reversed:!0,tickLine:!0,xAxisId:0,tickFormatter:function(a){return x(new Date(a),L,!1)}}),aA,(0,j.jsx)(s.u,{position:{y:15},isAnimationActive:!1,content:function(c){var b=c.payload||[],a=b.length>0?b[0].payload:null,d=(null==a?void 0:a.date)?new Date(null==a?void 0:a.date):new Date;return null===a||(null==a?void 0:a.buy)===0&&(null==a?void 0:a.sell)===0?null:(0,j.jsxs)("div",{className:"chart-tooltip",children:[(0,j.jsx)(C.$,{alias:"date",children:(0,j.jsx)(D.eE,{useFriendlyDate:!1,fieldName:"activity-chart-datetime",data:d,format:L>365?"yyyy":L>90?"mmm yyyy":"mmm dd"})}),Boolean(a.buy)&&(0,j.jsxs)(C.$,{alias:"tx-type-buy",children:[(0,j.jsx)("span",{className:"q-label",children:"Buy Trades"}),(0,j.jsx)("span",{className:"q-value",children:(0,A.nz)(null==a?void 0:a.buy)})]}),Boolean(a.sell)&&(0,j.jsxs)(C.$,{alias:"tx-type-sell",children:[(0,j.jsx)("span",{className:"q-label",children:"Sell Trades"}),(0,j.jsx)("span",{className:"q-value",children:(0,A.nz)(null==a?void 0:a.sell)})]})]})}}),!(void 0!==ac&&ac)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(t.$,{dataKey:"buy",isAnimationActive:!0,animationEasing:"ease-out",animationDuration:200,animationBegin:50,barSize:as}),(0,j.jsx)(t.$,{dataKey:"sell",isAnimationActive:!0,animationEasing:"ease-out",animationDuration:200,animationBegin:150,barSize:as})]})]})})]})})};function c(d,e,g){var b="".concat(d).concat(e);if(!c.cache[b]){var f={},a=d;do f[x(a,g,!0)]={buy:0,sell:0,date:a.getTime()},a=new Date(+a+v.x4);while(a<e)c.cache[b]=f}return c.cache[b]}function F(h,a,b){if(a>30&&a<=365)return null;var c=function(){return a<=30?{aggregate:h.reduce(function(a,c){var b=new Date(c.date).getMonth().toString(),d=a[b]?a[b]:[];return(0,g.Z)((0,f.Z)({},a),(0,e.Z)({},b,(0,i.Z)(d).concat([c.date])))},{}),key:"mmmm"}:{aggregate:h.reduce(function(a,c){var b=new Date(c.date).getFullYear().toString(),d=a[b]?a[b]:[];return(0,g.Z)((0,f.Z)({},a),(0,e.Z)({},b,(0,i.Z)(d).concat([c.date])))},{}),key:"yyyy"}},d=function(){var a;return Object.values(null===(a=c())|| void 0===a?void 0:a.aggregate).map(function(a){return a[Math.floor(a.length/2)]})},k=c();return(0,j.jsx)(q.K,{dy:-20,axisLine:!1,tickLine:!1,dataKey:"date",reversed:!0,xAxisId:1,tickFormatter:function(a){return(0,v.p6)(a,k.key)},ticks:d(),interval:0,height:1,padding:b})}function G(d,a){var b,c,e=!!(null==a?void 0:null===(b=a.performance)|| void 0===b?void 0:null===(c=b.eodPrices)|| void 0===c?void 0:c.length);return d?"SP500":e?null==a?void 0:a.issuerName:"SP500 (no price for ".concat(null==a?void 0:a.issuerName,")")}c.cache={}}}])